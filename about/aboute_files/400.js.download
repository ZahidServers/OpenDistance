var FourHundred=function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(6),o=n(7),s=o.ping,r=o.postIframe,a=o.post;if("undefined"==typeof window){var c=function(t){return t},l={};Object.keys(i.prototype).forEach(function(t){return l[t]=c}),t.exports=l}else t.exports=new i(s,r,a);t.exports.cookie=n(1)},function(t,e,n){var i,o;i=[n,e,t],o=function(t,e,n){var i=function(t){return t};e.set=function(t,e,n){n=n||{};var o=new Date;if((null===e||void 0===e)&&(n.days=-1),"number"==typeof n.days)o.setDate(o.getDate()+n.days),n.expires=o;else if("number"==typeof n.minutes)o.setMinutes(o.getMinutes()+n.minutes),n.expires=new Date(o);else if("number"==typeof n.expires){var s=n.expires,r=new Date;r.setDate(r.getDate()+s),n.expires=r}n.path||(n.path="/");var a=n.raw?i:encodeURIComponent,c=a(t)+"="+a(String(e))+"; path="+n.path;return n.expires&&(c+="; expires="+n.expires.toUTCString()),n.domain&&(c+="; domain="+n.domain),n.secure&&(c+="; secure"),document.cookie=c,c},e.setOnce=function(t,n,i){var o=e.get(t,i);return null===o&&(e.set(t,n,i),o=n),o},e.get=function(t,e){e=e||{};for(var n,o=e.raw?i:decodeURIComponent,s=document.cookie.split("; "),r=0;s[r];r++)if(n=s[r].split("="),o(n[0])===t){var a=o(n[1]||"");return"null"===a?null:a}return null},e.remove=function(t,n){n=n||{},n.days=-1,e.set(t,null,n)},e.removeAll=function(t,n){for(var i=t.length;i>=0;i--)e.remove(t[i],n)}}.apply(e,i),!(void 0!==o&&(t.exports=o))},function(t,e,n){var i,o;i=[n,e,t],o=function(t,e,n){n.exports={debug:!0,environment:"development",log:"info",out:"js/app/config.js",dir:{home:"/"},url:{api:"/maestro/api/",maestro:"/maestro/api/",base:"https://site.dev-coursera.org/",cloudfront_api:"/maestro/api/",accounts:"https://accounts.dev-coursera.org/",assets:"https://assets.dev-coursera.org/web/",resource_assets:"https://coursera_assets.s3.amazonaws.com/",app_assets:"https://assets.dev-coursera.org/web/",imageProxyRoot:"https://d3njjcbhbojbot.cloudfront.net/api/utilities/v1/imageproxy/"},version:"",gapi_eventing_data:{project_number:"274249572679",api_key:"",client_id:"274249572679-al8nc3ttcavj0n91due232a3h6s3r9vk.apps.googleusercontent.com"},bigquery:{dataset:"mydataset",table_prefix:"livedata_"}}}.apply(e,i),!(void 0!==o&&(t.exports=o))},function(t,e,n){var i,o;i=[n,e,t,n(2),n(5)],o=function(t,e,i){var o=n(2),s=n(5);i.exports=s({level:o.log})}.apply(e,i),!(void 0!==o&&(t.exports=o))},function(t,e,n){var i,o;i=[n,e,t],o=function(t,e,n){var i,o=function(){return"undefined"!=typeof window},s=function(){return window.location.hostname},r=function(){return window.location.href},a=function(){return window.document.referrer},c=function(){return window.screen.height},l=function(){return window.screen.width},h=function(){if(!o())return!1;try{var t="__test__store__";window.localStorage.setItem(t,t);var e=window.localStorage.getItem(t);return window.localStorage.removeItem(t),e==t}catch(n){return!1}};i="undefined"==typeof window?{}:{windowExists:o,hostname:s,href:r,referrer:a,screenHeight:c,screenWidth:l,isLocalStorageEnabled:h},n.exports=i}.apply(e,i),!(void 0!==o&&(t.exports=o))},function(t,e,n){var i,o;i=[n,e,t],o=function(t,e,n){"undefined"!=typeof window&&(window.console.log=window.console.log||function(){},window.console.error=window.console.error||function(){},window.console.warn=window.console.warn||function(){},window.console.info=window.console.info||function(){},window.console.log.apply||(window.console.log=Function.prototype.bind.call(window.console.log,window.console),window.console.error=Function.prototype.bind.call(window.console.error,window.console),window.console.warn=Function.prototype.bind.call(window.console.warn,window.console),window.console.info=Function.prototype.bind.call(window.console.info,window.console)));var i="undefined"!=typeof window?window.console:console,o=function(t){this.options=t||{}};o.prototype.customize=function(t){return this.options=t||{},this},o.prototype.info=function(){return"info"==this.options.level&&i.info.apply(i,arguments),this},o.prototype.warn=function(){return/info|warn/.test(this.options.level)&&i.warn.apply(i,arguments),this},o.prototype.error=function(){return/error|warn|info/.test(this.options.level)&&i.error.apply(i,arguments),this},n.exports=function(t){return new o(t)}}.apply(e,i),!(void 0!==o&&(t.exports=o))},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();o=[n,e,t,n(1),n(4),n(3)],s=function(t,e,o){var s=n(1),a=n(4),c=n(3),l=22,h=300,u=50,p=3,d=50,f=2e5,v="400batching",g="400batching-inflight",m="web",w={activityExpirationTime:18e5,batching:!0,method:"GET",beacon:"/eventing/info.v2",beaconBatch:"/eventing/infoBatch.v2",cookieIdTracker:"__204u",debug:!1,initialReferrerTracker:"__400r",lastActivityTimeTracker:"__400vt",visitIdTracker:"__400v"},y=function(t){return t?(new Date).getTime()-t>w.activityExpirationTime?!0:!1:!0},b=function(t){var e=window.localStorage.getItem(t),n=null;if(e)try{n=JSON.parse(e)}catch(i){throw i}return n&&Array.isArray(n.events)||(n={clientType:m,app:null,clientVersion:null,events:[]}),n},x=function(t){window.localStorage.removeItem(t)},T=function(t,e){try{window.localStorage.setItem(t,JSON.stringify(e))}catch(n){window.localStorage.clear()}},I=function(t,e){var n=b(t);return x(t),n&&n.events.length&&T(e,n),n},k=function(t,e){var n=b(t),i=b(e);i.events=i.events.concat(n.events),x(t),T(e,i)},S=function(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:7&n|8).toString(16)});return e},_=function(){function t(e,n,o){i(this,t),this.ping=e,this.pingPost=o,this.pingIframe=n,this.pingInFlight=!1,this.constants=w,this.state={},this.archive=[],this.state.domain=this.getDomain(),this.batchTimer=-1,this.batchAttempts=0,this.getCurrentInitialReferrer(),this.getCurrentVisitId(),this.evaluateCapabilities(),this.state.cookieId=this.getCookieId(),this.state.lastHref=a.href(),this.state.lastReferrer=a.referrer(),this.state.screenSize={height:a.screenHeight(),width:a.screenWidth()},this.updateLastActivityTime()}return r(t,[{key:"evaluateCapabilities",value:function(){this.canBatch=a.isLocalStorageEnabled()&&this.constants.batching===!0}},{key:"getCookieId",value:function(t){var e={domain:this.state.domain,days:365};return s.get(this.constants.cookieIdTracker,e)}},{key:"getDomain",value:function(){for(var t=a.hostname().split(".");t.length>2;)t.shift();return"."+t.join(".")}},{key:"getLastReferrer",value:function(){return a.href()!==this.state.lastHref&&(this.state.lastReferrer=this.state.lastHref,this.state.lastHref=a.href()),this.state.lastReferrer}},{key:"getCurrentInitialReferrer",value:function(){var t={domain:this.state.domain,minutes:30};this.state.initialReferrer=this.state.initialReferrer||s.get(this.constants.initialReferrerTracker);var e=this.state.lastActivityTime||s.get(this.constants.lastActivityTimeTracker);if(!this.state.initialReferrer||y(e)){var n=a.referrer();if(!n)return null;var i=/([a-z0-9-_]+\.)*[a-z0-9-_]+\.[a-z]+/gi,o=n.match(i),r=this.state.domain.split("."),c=r[r.length-2]+"."+r[r.length-1];o&&o[0].indexOf(c)>-1&&(n=null),s.set(this.constants.initialReferrerTracker,n,t),this.state.initialReferrer=n}return this.state.initialReferrer}},{key:"getCurrentVisitId",value:function(){var t={domain:this.state.domain,minutes:30};this.state.visitId=this.state.visitId||s.get(this.constants.visitIdTracker);var e=this.state.lastActivityTime||s.get(this.constants.lastActivityTimeTracker);if(!this.state.visitId||y(e)){var n=S();s.set(this.constants.visitIdTracker,n,t),this.state.visitId=n}return this.state.visitId}},{key:"updateLastActivityTime",value:function(){var t=(new Date).getTime(),e={domain:this.state.domain,minutes:30};s.set(this.constants.lastActivityTimeTracker,t,e),this.state.lastActivityTime=t}},{key:"push",value:function(t){if("object"!=typeof t)return this;if(Array.isArray&&Array.isArray(t)||t.constructor===Array)switch(t[0]){case"batch":for(t.shift();t.length;)this.push(t.shift());if(-1===this.batchTimer&&this.canBatch){var e=I(g,v);e&&e.events.length&&this.poll(),window&&window.onbeforeunload&&window.addEventListener("beforeunload",this.poll.bind(this))}a.windowExists()&&(window._400=this);break;case"constant":this.constants[t[1]]=t[2],this.evaluateCapabilities();break;case"send":this.send(t[1],t[2],t[3]);break;default:this.state[t[0]]=t[1]}else this.send(t);return this}},{key:"send",value:function(t,e,n){var i={};i="string"==typeof t?{key:t,value:{}}:t||{},i.clientType=m,i.url=a.href(),i.cookieId=this.state.cookieId||this.getCookieId(),i.app=this.state.app,i.referrerUrl=this.getLastReferrer(),i.initialReferrer=this.getCurrentInitialReferrer(),i.guid=S(),i.visitId=this.getCurrentVisitId(),i.screenSize=this.state.screenSize,i.clientVersion=this.state.clientVersion,i.clientTimestamp=(new Date).getTime();for(var o in i)(null===i[o]||""===i[o]||void 0===i[o])&&delete i[o];return this.constants.debug?(this.archive.push(i),e&&e()):this.canBatch&&!n?(this.batchEvent(i),e&&e()):"POST"===this.constants.method?this.pingPost(this.constants.beacon,i,e):"GET"===this.constants.method?this.ping(this.constants.beacon,i,e):"IFRAME"===this.constants.method&&this.pingIframe(this.constants.beacon,i,e),this.updateLastActivityTime(),this}},{key:"batchEvent",value:function(t){var e=b(v);window.clearTimeout(this.batchingTimer),e.events.push(t);try{window.localStorage.setItem(v,JSON.stringify(e))}catch(n){n.code===l?this.poll(t):(e.app=this.state.app,e.clientVersion=this.state.clientVersion,window.localStorage.clear(),this.postIframe(this.constants.beaconBatch,e))}if(e.events.length>d)this.poll();else{var i=h;if(1===e.events.length)this.batchingTimerLast=(new Date).getTime();else{var o=(new Date).getTime()-this.batchingTimerLast;i=o>h?u:h-o+u}this.batchingTimer=window.setTimeout(this.poll.bind(this),i)}}},{key:"poll",value:function(t){if(this.pingInFlight===!1){var e=I(v,g);if(t&&e.events.push(event),e.app=this.state.app,e.clientVersion=this.state.clientVersion,e&&e.events&&e.events.length){var n="IFRAME"===this.constants.method?this.pingIframe:this.pingPost;this.pingInFlight=!0,n(this.constants.beaconBatch,e,function(n){if(this.pingInFlight=!1,200===n.status){if(this.batchAttempts=0,x(g),n.responseText)try{var i=JSON.parse(n.responseText);i[400]&&c.error(i[400])}catch(o){c.error("can not parse eventing response")}}else if(413===n.status){this.batchAttempts=0,x(g);for(var s=[],r=e.events||[];r.length>0&&2*JSON.stringify(s).length<f;)s.push(r.pop());2*JSON.stringify(s).length>f&&s.pop(),s.length?(e.events=s,this.pingPost(this.constants.beaconBatch,e)):e.events.pop(),r.length&&(e.events=r,T(v,e),this.batchingTimer=window.setTimeout(this.poll.bind(this,t),u))}else k(g,v),this.batchAttempts+=1,this.batchAttempts<=p&&(this.batchingTimer=window.setTimeout(this.poll.bind(this,t),u))}.bind(this))}}else this.batchingTimer=window.setTimeout(this.poll.bind(this,t),u)}}]),t}();o.exports=_}.apply(e,o),!(void 0!==s&&(t.exports=s))},function(t,e,n){var i,o;i=[n,e,t],o=function(t,e,n){function i(t){return"string"!=typeof t&&window.JSON?window.JSON.stringify(t):t.toString()}function o(t){var e=[];for(var n in t)void 0!==t[n]&&e.push(n+"="+encodeURIComponent(i(t[n])));return window.JSON||e.push("_noJSON_=true"),e.join("&")}function s(t,e,n){var i=new XMLHttpRequest;return i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n&&"function"==typeof n&&(i.onload=function(){n(i)},i.ontimeout=function(){n(i)}),i.timeout=5e3,i.send(JSON.stringify(e)),i}function r(t,e,n){var o=document.createElement("iframe"),s=e.guid;document.body.appendChild(o),o.style.display="none",o.name=s,o.contentWindow.name=s;var r=document.createElement("div");r.style.display="none;",document.body.appendChild(r);var a=document.createElement("form");a.target=s,a.action=t,a.method="POST",r.appendChild(a);var c;for(var l in e)void 0!==e[l]&&(c=document.createElement("input"),c.type="hidden",c.name=l,c.value=i(e[l]),a.appendChild(c));o.onload=o.onreadystatechange=function(){this.readyState&&"complete"!==this.readyState||(o.onreadystatechange=o.onload=null,o.parentNode.removeChild(o),a.parentNode.removeChild(a),n&&"function"==typeof n&&n())},a.submit()}function a(t,e,n){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=t+"?"+o(e),i.onload=i.onreadystatechange=function(){this.readyState&&"complete"!==this.readyState||(i.onreadystatechange=i.onload=null,i.parentNode.removeChild(i),n&&"function"==typeof n&&n())},document.head.appendChild(i)}function c(t,e,n){o(e).length<l?a(t,e,n):r(t,e,n)}var l=4e3;n.exports={ping:c,post:s,postIframe:r,getScript:a}}.apply(e,i),!(void 0!==o&&(t.exports=o))}]);